"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const v=require("vue"),s=require("@tu-view-plus/utils"),y=require("./notification.vue.js"),T=require("./constants.js"),m={tl:[],tr:[],bl:[],br:[]},g=16;let E=1;const a=function(e={},t=null){if(!s.isClient)return{close:()=>{}};(typeof e=="string"||s.isVNode(e))&&(e={message:e});const i=e.position||"tr";let o=e.offset||0;m[i].forEach(({vm:f})=>{var p;o+=(((p=f.el)==null?void 0:p.offsetHeight)||0)+g}),o+=g;const c=`notification_${E++}`,d=e.onClose,u={...e,offset:o,id:c,onClose:()=>{b(c,i,d)}};let l=document.body;s.isHTMLElement(e.appendTo)?l=e.appendTo:s.isString(e.appendTo)&&(l=document.querySelector(e.appendTo)),s.isHTMLElement(l)||(s.debugWarn("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),l=document.body);const r=document.createElement("div"),n=v.createVNode(y.default,u,s.isVNode(u.message)?{default:()=>u.message}:null);return n.appContext=t??a._context,n.props.onDestroy=()=>{v.render(null,r)},v.render(n,r),m[i].push({vm:n}),l.appendChild(r.firstElementChild),{close:()=>{n.component.exposed.visible.value=!1}}};T.notificationTypes.forEach(e=>{a[e]=(t={})=>((typeof t=="string"||s.isVNode(t))&&(t={message:t}),a({...t,type:e}))});function b(e,t,i){const o=m[t],c=o.findIndex(({vm:n})=>{var f;return((f=n.component)==null?void 0:f.props.id)===e});if(c===-1)return;const{vm:d}=o[c];if(!d)return;i==null||i(d);const u=d.el.offsetHeight,l=t.split("-")[0];o.splice(c,1);const r=o.length;if(!(r<1))for(let n=c;n<r;n++){const{el:f,component:p}=o[n].vm,h=Number.parseInt(f.style[l],10)-u-g;p.props.offset=h}}function _(){for(const e of Object.values(m))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}a.closeAll=_;a._context=null;exports.close=b;exports.closeAll=_;exports.default=a;
