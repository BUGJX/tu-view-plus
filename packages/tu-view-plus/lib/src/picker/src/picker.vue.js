"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),p=require("./picker.js"),P=require("@tu-view-plus/hooks"),f=require("@tu-view-plus/utils");require("../../form/index.js");const _=require("../../icon/index.js");require("../style/picker.css");const m=require("../../form/src/hooks/use-form-props.js"),N=["disabled","placeholder","value"],S=e.defineComponent({name:"TuPicker"}),g=e.defineComponent({...S,props:p.pickerProps,emits:p.pickerEmits,setup(v,{expose:k,emit:h}){const b=v,u=h,C=e.useSlots(),{focused:a,value:l,format:t,inputValue:o}=e.toRefs(b),n=e.ref(),r=P.useNamespace("picker"),c=m.useFormDisabled(),i=m.useFormSize(),d=e.computed(()=>{if(o!=null&&o.value)return o==null?void 0:o.value;if(l!=null&&l.value&&f.isDayjs(l.value))return f.isFunction(t.value)?t.value(l.value):l.value.format(t.value)}),y=e.computed(()=>({[r.b()]:!0,[r.m(i.value)]:i.value,[r.is("focused")]:a==null?void 0:a.value,[r.is("disabled")]:c.value,[r.is("has-prefix")]:C.prefix})),q=()=>{u("press-enter")},B=s=>{u("change",s)},z=s=>{u("blur",s)},E=s=>{u("clear",s)};return k({focus:()=>{n.value&&n.value.focus&&n.value.focus()},blur:()=>{n.value&&n.value.blur&&n.value.blur()}}),(s,F)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(y.value)},[s.$slots.prefix?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(r).e("prefix"))},[e.renderSlot(s.$slots,"perfix")],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).e("input-wrap"))},[e.createElementVNode("input",e.mergeProps({ref:"inputRef"},s.readonly?{readonly:!0}:{},{disabled:e.unref(c),placeholder:s.placeholder,class:e.unref(r).e("input"),value:d.value,onKeydown:e.withKeys(q,["enter"]),onInput:B,onBlur:z}),null,16,N)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).e("suffix"))},[s.allowClear&&!e.unref(c)&&d.value?(e.openBlock(),e.createBlock(e.unref(_.TuIcon),{key:0,class:e.normalizeClass([e.unref(r).e("icon"),e.unref(r).em("icon","clear")]),onClick:E},null,8,["class"])):e.createCommentVNode("",!0)],2)],2))}});exports.default=g;
