"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),f=require("./picker.js"),E=require("@tu-view-plus/hooks"),p=require("@tu-view-plus/utils"),P=require("@tu-view-plus/icons-vue");require("../../form/index.js");const m=require("../../icon/index.js");require("../style/picker.css");const v=require("../../form/src/hooks/use-form-props.js"),S=["disabled","placeholder","value"],w=e.defineComponent({name:"TuPicker"}),x=e.defineComponent({...w,props:f.pickerProps,emits:f.pickerEmits,setup(k,{expose:C,emit:h}){const b=k,u=h,{focused:a,value:o,format:t,inputValue:l}=e.toRefs(b),n=e.ref(),r=E.useNamespace("picker"),q=e.useSlots(),c=v.useFormDisabled(),i=v.useFormSize(),d=e.computed(()=>{if(l!=null&&l.value)return l==null?void 0:l.value;if(o!=null&&o.value&&p.isDayjs(o.value))return p.isFunction(t.value)?t.value(o.value):o.value.format(t.value)}),y=e.computed(()=>({[r.b()]:!0,[r.m(i.value)]:i.value,[r.is("focused")]:a==null?void 0:a.value,[r.is("disabled")]:c.value,[r.is("has-prefix")]:q.prefix})),z=()=>{u("press-enter")},B=s=>{u("change",s)},N=s=>{u("blur",s)},_=s=>{u("clear",s)};return C({focus:()=>{n.value&&n.value.focus&&n.value.focus()},blur:()=>{n.value&&n.value.blur&&n.value.blur()}}),(s,F)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(y.value)},[s.$slots.prefix?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(r).e("prefix"))},[e.renderSlot(s.$slots,"perfix")],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).e("input-wrap"))},[e.createElementVNode("input",e.mergeProps({ref:"inputRef"},s.readonly?{readonly:!0}:{},{disabled:e.unref(c),placeholder:s.placeholder,class:e.unref(r).e("input"),value:d.value,onKeydown:e.withKeys(z,["enter"]),onInput:B,onBlur:N}),null,16,S)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).e("suffix"))},[s.allowClear&&!e.unref(c)&&d.value?(e.openBlock(),e.createBlock(e.unref(m.TuIcon),{key:0,class:e.normalizeClass([e.unref(r).e("icon"),e.unref(r).em("icon","clear")]),onClick:_},{default:e.withCtx(()=>[e.createVNode(e.unref(P.Close))]),_:1},8,["class"])):e.createCommentVNode("",!0),e.createVNode(e.unref(m.TuIcon),{class:e.normalizeClass(e.unref(r).e("icon"))},{default:e.withCtx(()=>[e.renderSlot(s.$slots,"suffix-icon")]),_:3},8,["class"])],2)],2))}});exports.default=x;
