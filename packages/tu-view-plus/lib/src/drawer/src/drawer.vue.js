"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),l=require("./drawer.js"),k=require("../../only-client/index.js"),n=require("@tu-view-plus/hooks");require("../style/drawer.css");const w=e.defineComponent({name:"TuDrawer",inheritAttrs:!1}),b=e.defineComponent({...w,props:l.drawerProps,emits:l.drawerEmits,setup(u,{emit:h}){const r=u;n.useNamespace("drawer");const a=n.useNamespace("drawer-container"),{popupContainer:c}=e.toRefs(r),d=e.ref(r.defaultVisible),t=e.computed(()=>r.visible??d.value),i=e.ref(t.value),{teleportContainer:m,containerRef:s}=n.useTeleportContainer({popupContainer:c,visible:t}),{zIndex:p,isLastDialog:B}=n.usePopupManager("dialog",{visible:t}),f=e.computed(()=>(s==null?void 0:s.value)===document.body),v=e.computed(()=>f.value?{zIndex:p.value}:{zIndex:"inherit",position:"absolute"}),C=o=>{r.maskClosable};return(o,y)=>(e.openBlock(),e.createBlock(e.unref(k.TuOnlyClient),null,{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(m),disabled:!o.renderToBody},[!o.unmountOnClose||e.unref(t)||i.value?e.withDirectives((e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,class:e.unref(a).b(),style:e.unref(v)},o.$attrs),[e.createVNode(e.Transition,{name:"fade-drawer"},{default:e.withCtx(()=>[o.mask?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(a).e("mask")),onClick:C},null,2)),[[e.vShow,e.unref(t)]]):e.createCommentVNode("",!0)]),_:1})],16)),[[e.vShow,e.unref(t)||i.value]]):e.createCommentVNode("",!0)],8,["to","disabled"]))]),_:1}))}});exports.default=b;
