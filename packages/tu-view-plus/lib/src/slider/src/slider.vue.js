"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),M=require("./slider.js"),T=require("./use-slider.js"),b=require("@tu-view-plus/hooks");require("../../form/index.js");require("../style/slider.css");const g=require("../../form/src/hooks/use-form-item.js"),S=require("../../form/src/hooks/use-form-props.js"),D=["id","role","aria-label","aria-labelledby"],L=e.defineComponent({name:"TuSlider"}),P=e.defineComponent({...L,props:M.sliderProps,setup(I){const r=I,t=b.useNamespace("slider"),{t:h}=b.useLocale(),{formItem:i}=g.useFormItem(),{inputId:V,isLabeledByFormItem:d}=g.useFormItemInputId(r,{formItemContext:i}),s=e.reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),m=S.useFormSize(),y=S.useFormDisabled(),w=e.computed(()=>r.label||h("tu.slider.defaultLabel",{min:r.min,max:r.max})),z=e.computed(()=>({[t.b()]:!0,[t.m(m.value)]:m.value,[t.m("with-input")]:r.showInput,[t.is("vertical")]:r.vertical})),q=e.computed(()=>({[t.e("runway")]:!0,[t.is("show-input")]:r.showInput&&!r.range,[t.is("disabled")]:y.value})),F=e.computed(()=>r.vertical?{height:r.height}:{}),c=e.computed(()=>Math.min(s.firstValue,s.secondValue)),C=e.computed(()=>Math.max(s.firstValue,s.secondValue)),f=e.computed(()=>r.range?`${(C.value-c.value)/(r.max-r.min)*100}%`:`${(s.firstValue-r.min)/(r.max-r.min)*100}%`),x=e.computed(()=>r.vertical?{height:f.value,bottom:p.value}:{width:f.value,left:p.value}),p=e.computed(()=>r.range?`${(c.value-r.min)/(r.max-r.min)*100}%`:"0%"),{onSliderWrapperPrevent:l,handleSliderDown:u}=T.useSlider();return(a,n)=>{var v;return e.openBlock(),e.createElementBlock("div",{ref:"sliderWrapper",class:e.normalizeClass(e.unref(z)),id:a.range?e.unref(V):void 0,role:a.range?"group":void 0,"aria-label":a.range&&!e.unref(d)?e.unref(w):void 0,"aria-labelledby":a.range&&e.unref(d)?(v=e.unref(i))==null?void 0:v.labelId:void 0,onTouchstart:n[2]||(n[2]=(...o)=>e.unref(l)&&e.unref(l)(...o)),onTouchmove:n[3]||(n[3]=(...o)=>e.unref(l)&&e.unref(l)(...o))},[e.createElementVNode("div",{ref:"slider",class:e.normalizeClass(e.unref(q)),style:e.normalizeStyle(e.unref(F)),onMousedown:n[0]||(n[0]=(...o)=>e.unref(u)&&e.unref(u)(...o)),onTouchstart:n[1]||(n[1]=(...o)=>e.unref(u)&&e.unref(u)(...o))},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(t).e("bar")),style:e.normalizeStyle(e.unref(x))},null,6)],38)],42,D)}}});exports.default=P;
