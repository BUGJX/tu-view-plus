"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),l=require("./picker.js"),p=require("@tu-view-plus/hooks"),r=require("@tu-view-plus/utils");require("../../form/index.js");const V=require("../../trigger/index.js"),c=require("./picker-dropdown.vue.js"),d=require("../../form/src/hooks/use-form-props.js"),C=e.defineComponent({name:"Picker"}),q=e.defineComponent({...C,props:l.pickerProps,emits:l.pickerEmits,setup(m,{emit:f}){const v=m,u=f,{mode:F,modelValue:y,defaultValue:S,format:t,valueFormat:T,placeholder:B,popupVisible:k,defaultPopupVisible:g,disabled:D,showTime:w,timePickerProps:M,disabledDate:O,disabledTime:N,readonly:n,locale:j,pickerValue:z,defaultPickerValue:E,dayStartOfWeek:L,previewShortcut:R,showConfirmBtn:W}=e.toRefs(v);p.useNamespace("picker"),d.useFormSize();const s=d.useFormDisabled(),[a,b]=p.useMergeState(g.value,e.reactive({value:k})),P=e.computed(()=>t&&r.isFunction(t.value)?o=>{var i;return(i=t.value)==null?void 0:i.call(t,r.getDateValue(o))}:computedFormat.value);e.computed(()=>!n.value&&!r.isFunction(P.value));const h=o=>{a.value!==o&&(b(o),u("popup-visible-change",o),u("update:popupVisible",o))},_=o=>{s.value||h(o)};return(o,i)=>o.hideTrigger?(e.openBlock(),e.createBlock(c.default,{key:1})):(e.openBlock(),e.createBlock(e.unref(V.TuTrigger),e.mergeProps({key:0,trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","click-to-close":!1,"popup-offset":4},o.triggerProps,{position:o.position,disabled:e.unref(s)||e.unref(n),"prevent-focus":!0,"popup-visible":e.unref(a),"unmount-on-close":o.unmountOnClose,"popup-container":o.popupContainer,onPopupVisibleChange:_}),{content:e.withCtx(()=>[e.createVNode(c.default)]),default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},16,["position","disabled","popup-visible","unmount-on-close","popup-container"]))}});exports.default=q;
