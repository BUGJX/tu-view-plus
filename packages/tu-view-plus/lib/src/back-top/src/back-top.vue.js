"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),u=require("@vueuse/core"),i=require("./back-top.js"),T=require("@tu-view-plus/hooks"),k=require("@tu-view-plus/icons-vue"),c=require("@tu-view-plus/utils"),b=require("../../button/index.js");require("../style/back-top.css");const _=["onClick"],g=e.defineComponent({name:"TuBackTop"}),q=e.defineComponent({...g,props:i.backTopProps,emits:i.backtopEmits,setup(d,{emit:p}){const t=d,m=T.useNamespace("back-top"),s=e.ref(!1),o=e.shallowRef(),r=e.shallowRef(),f=e.computed(()=>({right:c.addUnit(t.right),bottom:c.addUnit(t.bottom)})),a=()=>{o.value&&(s.value=o.value.scrollTop>=t.visibleHeight)},v=n=>{var l;(l=o.value)==null||l.scrollTo({top:0,behavior:"smooth"}),p("click",n)},h=u.useThrottleFn(a,300,!0);return u.useEventListener(r,"scroll",h),e.onMounted(()=>{r.value=document,o.value=document.documentElement,t.target&&(o.value=document.querySelector(t.target)??void 0,o.value||c.throwError("TuBackTop",`target does not exist: ${t.target}`),r.value=o.value),a()}),(n,l)=>(e.openBlock(),e.createBlock(e.Transition,{name:"fade-in"},{default:e.withCtx(()=>[s.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(m).b()),style:e.normalizeStyle(e.unref(f)),onClick:e.withModifiers(v,["stop"])},[e.renderSlot(n.$slots,"default",{},()=>[e.createVNode(e.unref(b.TuButton),{circle:""},{icon:e.withCtx(()=>[e.createVNode(e.unref(k.CaretTop))]),_:1})])],14,_)):e.createCommentVNode("",!0)]),_:3}))}});exports.default=q;
