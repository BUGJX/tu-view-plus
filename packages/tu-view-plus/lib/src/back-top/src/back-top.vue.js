"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),i=require("@vueuse/core"),u=require("./back-top.js"),k=require("@tu-view-plus/hooks"),b=require("@tu-view-plus/icons-vue"),c=require("@tu-view-plus/utils"),_=require("../../button/index.js");require("../style/back-top.css");const g=["onClick"],q=e.defineComponent({name:"TuBackTop"}),C=e.defineComponent({...q,props:u.backTopProps,emits:u.backtopEmits,setup(d,{emit:p}){const o=d,m=p,v=k.useNamespace("back-top"),s=e.ref(!1),t=e.shallowRef(),n=e.shallowRef(),f=e.computed(()=>({right:c.addUnit(o.right),bottom:c.addUnit(o.bottom)})),a=()=>{t.value&&(s.value=t.value.scrollTop>=o.visibleHeight)},h=r=>{var l;(l=t.value)==null||l.scrollTo({top:0,behavior:"smooth"}),m("click",r)},T=i.useThrottleFn(a,300,!0);return i.useEventListener(n,"scroll",T),e.onMounted(()=>{n.value=document,t.value=document.documentElement,o.target&&(t.value=document.querySelector(o.target)??void 0,t.value||c.throwError("TuBackTop",`target does not exist: ${o.target}`),n.value=t.value),a()}),(r,l)=>(e.openBlock(),e.createBlock(e.Transition,{name:"fade-in"},{default:e.withCtx(()=>[s.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(v).b()),style:e.normalizeStyle(f.value),onClick:e.withModifiers(h,["stop"])},[e.renderSlot(r.$slots,"default",{},()=>[e.createVNode(e.unref(_.TuButton),{circle:""},{icon:e.withCtx(()=>[e.createVNode(e.unref(b.CaretTop))]),_:1})])],14,g)):e.createCommentVNode("",!0)]),_:3}))}});exports.default=C;
