"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),c=require("./collapse.js"),v=require("@tu-view-plus/hooks"),i=require("@tu-view-plus/utils"),p=require("@tu-view-plus/constants"),_=require("./constants.js");require("../style/collapse.css");const C=e.defineComponent({name:"TuCollapse"}),E=e.defineComponent({...C,props:c.collapseProps,emits:c.collapseEmits,setup(d,{emit:n}){const s=d,a=v.useNamespace("collapse"),l=e.ref(i.ensureArray(s.modelValue)),m=e.computed(()=>({[a.b()]:!0,[a.m(s.type)]:s.type})),r=t=>{l.value=t;const o=s.accordion?l.value[0]:l.value;n(p.UPDATE_MODEL_EVENT,o),n(p.CHANGE_EVENT,o)},f=t=>{if(s.accordion)r([l.value[0]===t?"":t]);else{const o=[...l.value],u=o.indexOf(t);u>-1?o.splice(u,1):o.push(t),r(o)}};return e.watch(()=>s.modelValue,()=>l.value=i.ensureArray(s.modelValue),{deep:!0}),e.provide(_.collapseContextKey,{activeNames:l,size:s.size,handleItemClick:f}),(t,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(m)),role:"tablist","aria-multiselectable":"true"},[e.renderSlot(t.$slots,"default")],2))}});exports.default=E;
