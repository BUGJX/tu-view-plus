"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),_=require("./collapse-item.js"),d=require("@tu-view-plus/hooks"),I=require("@tu-view-plus/utils"),y=require("@tu-view-plus/icons-vue"),k=require("../../collapse-transition/index.js"),q=require("../../icon/index.js"),w=require("./constants.js");require("../style/collapse.css");const V=["aria-expanded","aria-controls","aria-describedby"],$=["id","tabindex","onKeypress"],g=["aria-hidden","aria-labelledby","id"],x=e.defineComponent({name:"TuCollapseItem"}),z=e.defineComponent({...x,props:_.collapseItemProps,setup(m){const a=m,s=d.useNamespace("collapse-item"),t=e.inject(w.collapseContextKey),r=e.ref(!1),i=e.ref(!1),u=e.ref(I.generateId()),n=e.computed(()=>t==null?void 0:t.activeNames.value.includes(a.name)),l=e.computed(()=>`${d.defaultNamespace}-content-${u.value}`),c=e.computed(()=>`${d.defaultNamespace}-head-${u.value}`),p=e.computed(()=>({[s.b()]:!0,[s.m(t==null?void 0:t.size)]:t==null?void 0:t.size,[s.is("active")]:n.value,[s.is("disabled")]:a.disabled})),v=e.computed(()=>({[s.e("header")]:!0,[s.is("active")]:n.value,[s.is("focusing")]:r.value&&!a.disabled})),C=e.computed(()=>({[s.e("arrow")]:!0,[s.is("active")]:n.value})),b=()=>{a.disabled||(t==null||t.handleItemClick(a.name),r.value=!1,i.value=!0)},h=()=>{t==null||t.handleItemClick(a.name)},N=()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)};return(o,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(p))},[e.createElementVNode("div",{role:"tab","aria-expanded":e.unref(n),"aria-controls":e.unref(l),"aria-describedby":e.unref(l)},[e.createElementVNode("div",{role:"button",id:e.unref(c),class:e.normalizeClass(e.unref(v)),tabindex:o.disabled?-1:0,onClick:b,onKeypress:e.withKeys(e.withModifiers(h,["stop","prevent"]),["space","enter"]),onFocus:N,onBlur:f[0]||(f[0]=T=>r.value=!1)},[e.createVNode(e.unref(q.TuIcon),{class:e.normalizeClass(e.unref(C))},{default:e.withCtx(()=>[e.createVNode(e.unref(y.CaretRight))]),_:1},8,["class"]),e.renderSlot(o.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(o.title),1)])],42,$)],8,V),e.createVNode(e.unref(k.TuCollapseTransition),null,{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{role:"tabpanel","aria-hidden":!e.unref(n),"aria-labelledby":e.unref(c),id:e.unref(l),class:e.normalizeClass(e.unref(s).e("wrap"))},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(s).e("content"))},[e.renderSlot(o.$slots,"default")],2)],10,g),[[e.vShow,e.unref(n)]])]),_:3})],2))}});exports.default=z;
