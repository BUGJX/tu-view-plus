"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("vue"),R=({dataKeys:p,contentRef:b,fixedSize:I,estimatedSize:f,buffer:d})=>{const z=r.ref(0),n=new Map,l=r.computed(()=>p.value.length),a=r.ref(0),g=r.computed(()=>{const e=a.value+d.value*3;return e>l.value?l.value:e}),v=r.computed(()=>{const e=l.value-d.value*3;return e<0?0:e}),M=e=>{e<0?a.value=0:e>v.value?a.value=v.value:a.value=e},c=r.ref(I.value),s=r.computed(()=>f.value!==30?f.value:z.value||f.value),V=(e,t)=>{n.set(e,t)},h=e=>{if(c.value)return s.value;const t=p.value[e];return n.get(t)??s.value},y=e=>n.has(e),w=e=>c.value?s.value*e:m(0,e),m=(e,t)=>{let u=0;for(let o=e;o<t;o++)u+=h(o);return u},S=r.computed(()=>c.value?s.value*a.value:m(0,a.value)),x=e=>{const t=e>=S.value;let u=Math.abs(e-S.value);const o=t?a.value:a.value-1;let i=0;for(;u>0;)u-=h(o+i),t?i++:i--;return i},O=e=>{const t=x(e),u=a.value+t-d.value;return u<0?0:u>v.value?v.value:u},P=r.computed(()=>c.value?s.value*(l.value-g.value):m(g.value,l.value));return r.onMounted(()=>{const e=Array.from(n.values()).reduce((t,u)=>t+u,0);e>0&&(z.value=e/n.size)}),{frontPadding:S,behindPadding:P,start:a,end:g,getStartByScroll:O,setItemSize:V,hasItemSize:y,setStart:M,getScrollOffset:w}};exports.useVirtualListSize=R;
