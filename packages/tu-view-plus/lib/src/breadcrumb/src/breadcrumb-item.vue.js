"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),D=require("./breadcrumb-item.js"),P=require("@tu-view-plus/hooks"),m=require("@tu-view-plus/icons-vue"),T=require("./context.js"),p=require("../../dropdown/index.js"),f=require("../../icon/index.js");require("../style/breadcrumb.css");const M=e.defineComponent({name:"TuBreadcrumbItem",props:D.breadcrumbItemProps,setup(t,{slots:n,attrs:v}){const d=P.useNamespace("breadcrumb"),r=e.inject(T.breadcrumbInjectKey,void 0),i=e.ref(!1),V=e.computed(()=>!(r&&r.needHide&&t.index>1&&t.index<=r.total-r.maxCount)),l=e.computed(()=>r&&r.needHide?t.index===1:!1),w=e.computed(()=>({[d.e("item")]:!0,[d.em("item","with-dropdown")]:t.droplist||n.droplist})),N=e.computed(()=>({[d.e("item-dropdown-icon")]:!0,[d.is("active")]:i.value})),b=e.computed(()=>r?t.index<r.total-1:!0),h=()=>{var a,u,s;if(!b.value)return null;const o=((a=n.separator)==null?void 0:a.call(n))??t.separator??((s=r==null?void 0:(u=r.slots).separator)==null?void 0:s.call(u))??(r==null?void 0:r.separator)??"/";return e.createVNode("div",{"aria-hidden":"true",class:d.e("item-separator")},[o])},I=o=>{i.value=o},c=()=>{var o,a,u;return e.createVNode("div",e.mergeProps({role:"listitem",class:w.value},l.value?{"aria-label":"ellipses of breadcrumb items"}:void 0,v),[l.value?((a=r==null?void 0:(o=r.slots)["more-icon"])==null?void 0:a.call(o))??e.createVNode(f.TuIcon,null,{default:()=>[e.createVNode(m.MoreFilled,null,null)]}):(u=n.default)==null?void 0:u.call(n),(t.droplist||n.droplist)&&e.createVNode("span",{"aria-hidden":!0,class:N.value},[e.createVNode(f.TuIcon,null,{default:()=>[e.createVNode(m.ArrowDown,null,null)]})])])},q=()=>{var o,a;return((o=n.droplist)==null?void 0:o.call(n))??((a=t.droplist)==null?void 0:a.map(u=>e.createVNode(p.TuDropdownItem,{value:u.path},{default:()=>[u.label]})))},g=()=>e.createVNode(p.TuDropdown,e.mergeProps({popupVisible:i.value,onPopupVisibleChange:I},t.dropdownProps),{default:()=>[c()],content:q});return()=>V.value?e.createVNode(e.Fragment,null,[n.droplist||t.droplist?g():c(),h()]):null}});exports.default=M;
