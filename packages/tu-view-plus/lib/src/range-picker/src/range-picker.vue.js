"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),z=require("./range-picker.js"),R=require("@tu-view-plus/hooks"),o=require("@tu-view-plus/utils"),j=require("@tu-view-plus/icons-vue");require("../../form/index.js");require("../style/range-picker.css");const q=require("../../form/src/hooks/use-form-props.js"),M=["disabled","placeholder","value"],A=["disabled","placeholder","value"],O=e.defineComponent({name:"TuRangePicker"}),U=e.defineComponent({...O,props:z.rangePickerProps,emits:z.rangePickerEmits,setup(S,{expose:_,emit:B}){const D=S,u=B,{focused:d,disabled:p,value:c,format:m,focusedIndex:a,inputValue:l}=e.toRefs(D),r=R.useNamespace("range-picker"),K=e.useSlots(),i=q.useFormDisabled(),C=q.useFormSize(),f=e.ref(),v=e.ref(),b=e.computed(()=>g(0)),h=e.computed(()=>g(1)),F=e.computed(()=>k(0)),I=e.computed(()=>k(1)),T=e.computed(()=>({[r.b()]:!0,[r.m(C.value)]:C.value,[r.is("focused")]:d==null?void 0:d.value,[r.is("disabled")]:b.value&&h.value,[r.is("has-prefix")]:K.prefix})),g=s=>o.isBoolean(i.value)&&i.value?i.value:o.isArray(p.value)?p.value[s]:p.value,k=s=>{var n,w;if(l!=null&&l.value)return(n=l==null?void 0:l.value)==null?void 0:n[s];const t=(w=c==null?void 0:c.value)==null?void 0:w[s];if(t&&o.isDayjs(t))return o.isFunction(m.value)?m.value(t):t.format(m.value)},y=s=>{u("focused-index-change",s),u("update:focusedIndex",s)},P=s=>({[r.e("input-wrap")]:!0,[r.is("active")]:s===(a==null?void 0:a.value)}),N=s=>{s.stopPropagation(),u("change",s)},V=()=>{u("press-enter")},E=s=>{s.preventDefault()},$=s=>{u("clear",s)};return _({focus:s=>{const t=o.isNumber(s)?s:a==null?void 0:a.value,n=t===0?f.value:v.value;!o.isUndefined(t)&&!g(t)&&n&&n.focus&&n.focus()},blur:()=>{const s=(a==null?void 0:a.value)===0?f.value:v.value;s&&s.blur&&s.blur()}}),(s,t)=>{const n=e.resolveComponent("tu-icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(T.value)},[s.$slots.prefix?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(r).e("prefix"))},[e.renderSlot(s.$slots,"perfix")],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(P(0))},[e.createElementVNode("input",e.mergeProps({ref_key:"refInput0",ref:f,class:e.unref(r).e("input"),disabled:b.value,placeholder:s.placeholder[0],value:F.value},s.readonly?{readonly:!0}:{},{onInput:N,onKeydown:[e.withKeys(V,["enter"]),e.withKeys(E,["tab"])],onClick:t[0]||(t[0]=()=>y(0))}),null,16,M)],2),e.createElementVNode("span",{class:e.normalizeClass(e.unref(r).e("separator"))},[e.renderSlot(s.$slots,"separator",{},()=>[e.createTextVNode("~")])],2),e.createElementVNode("div",{class:e.normalizeClass(P(1))},[e.createElementVNode("input",e.mergeProps({ref_key:"refInput1",ref:v,class:e.unref(r).e("input"),disabled:h.value,placeholder:s.placeholder[1],value:I.value},s.readonly?{readonly:!0}:{},{onInput:N,onKeydown:[e.withKeys(V,["enter"]),e.withKeys(E,["tab"])],onClick:t[1]||(t[1]=()=>y(1))}),null,16,A)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).e("suffix"))},[s.allowClear&&!e.unref(i)&&e.unref(c).length===2?(e.openBlock(),e.createBlock(n,{key:0,class:e.normalizeClass([e.unref(r).e("icon"),e.unref(r).em("icon","clear")]),onClick:$},{default:e.withCtx(()=>[e.createVNode(e.unref(j.Close))]),_:1},8,["class"])):e.createCommentVNode("",!0),e.createVNode(n,{class:e.normalizeClass(e.unref(r).e("icon"))},{default:e.withCtx(()=>[e.renderSlot(s.$slots,"suffix-icon")]),_:3},8,["class"])],2)],2)}}});exports.default=U;
