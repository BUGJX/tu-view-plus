"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),z=require("./range-picker.js"),j=require("@tu-view-plus/hooks"),l=require("@tu-view-plus/utils"),A=require("@tu-view-plus/icons-vue");require("../../form/index.js");require("../style/range-picker.css");const q=require("../../form/src/hooks/use-form-props.js"),M=["disabled","placeholder","value"],O=["disabled","placeholder","value"],U=e.defineComponent({name:"TuRangePicker"}),W=e.defineComponent({...U,props:z.rangePickerProps,emits:z.rangePickerEmits,setup(S,{expose:_,emit:B}){const D=S,u=B,{focused:d,disabled:c,value:p,format:m,focusedIndex:a,inputValue:n}=e.toRefs(D),r=j.useNamespace("range-picker"),K=e.useSlots(),i=q.useFormDisabled(),h=q.useFormSize(),f=e.ref(),v=e.ref(),g=e.computed(()=>b(0)),C=e.computed(()=>b(1)),F=e.computed(()=>k(0)),I=e.computed(()=>k(1)),T=e.computed(()=>l.isArray(c)?i:g||C),$=e.computed(()=>({[r.b()]:!0,[r.m(h.value)]:h.value,[r.is("focused")]:d==null?void 0:d.value,[r.is("disabled")]:g.value&&C.value,[r.is("has-prefix")]:K.prefix})),b=s=>l.isBoolean(i.value)&&i.value?i.value:l.isArray(c.value)?c.value[s]:c.value,k=s=>{var o,w;if(n!=null&&n.value)return(o=n==null?void 0:n.value)==null?void 0:o[s];const t=(w=p==null?void 0:p.value)==null?void 0:w[s];if(t&&l.isDayjs(t))return l.isFunction(m.value)?m.value(t):t.format(m.value)},y=s=>{u("focused-index-change",s),u("update:focusedIndex",s)},P=s=>({[r.e("input-wrap")]:!0,[r.is("active")]:s===(a==null?void 0:a.value)}),N=s=>{s.stopPropagation(),u("change",s)},V=()=>{u("press-enter")},E=s=>{s.preventDefault()},R=s=>{u("clear",s)};return _({focus:s=>{const t=l.isNumber(s)?s:a==null?void 0:a.value,o=t===0?f.value:v.value;!l.isUndefined(t)&&!b(t)&&o&&o.focus&&o.focus()},blur:()=>{const s=(a==null?void 0:a.value)===0?f.value:v.value;s&&s.blur&&s.blur()}}),(s,t)=>{const o=e.resolveComponent("tu-icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass($.value)},[s.$slots.prefix?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(r).e("prefix"))},[e.renderSlot(s.$slots,"perfix")],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(P(0))},[e.createElementVNode("input",e.mergeProps({ref_key:"refInput0",ref:f,class:e.unref(r).e("input"),disabled:g.value,placeholder:s.placeholder[0],value:F.value},s.readonly?{readonly:!0}:{},{onInput:N,onKeydown:[e.withKeys(V,["enter"]),e.withKeys(E,["tab"])],onClick:t[0]||(t[0]=()=>y(0))}),null,16,M)],2),e.createElementVNode("span",{class:e.normalizeClass(e.unref(r).e("separator"))},[e.renderSlot(s.$slots,"separator",{},()=>[e.createTextVNode("~")])],2),e.createElementVNode("div",{class:e.normalizeClass(P(1))},[e.createElementVNode("input",e.mergeProps({ref_key:"refInput1",ref:v,class:e.unref(r).e("input"),disabled:C.value,placeholder:s.placeholder[1],value:I.value},s.readonly?{readonly:!0}:{},{onInput:N,onKeydown:[e.withKeys(V,["enter"]),e.withKeys(E,["tab"])],onClick:t[1]||(t[1]=()=>y(1))}),null,16,O)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).e("suffix"))},[s.allowClear&&T.value?(e.openBlock(),e.createBlock(o,{key:0,class:e.normalizeClass([e.unref(r).e("icon"),e.unref(r).em("icon","clear")]),onClick:R},{default:e.withCtx(()=>[e.createVNode(e.unref(A.Close))]),_:1},8,["class"])):e.createCommentVNode("",!0),e.createVNode(o,{class:e.normalizeClass(e.unref(r).e("icon"))},{default:e.withCtx(()=>[e.renderSlot(s.$slots,"suffix-icon")]),_:3},8,["class"])],2)],2)}}});exports.default=W;
