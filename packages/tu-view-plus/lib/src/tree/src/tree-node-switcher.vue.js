"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),h=require("./tree-node-switcher.js"),S=require("@tu-view-plus/constants"),g=require("@tu-view-plus/hooks"),a=require("@tu-view-plus/icons-vue");require("@tu-view-plus/utils");const V=require("./hooks/use-tree-context.js"),d=require("../../icon/index.js");function p(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!e.isVNode(c)}const T=e.defineComponent({name:"TuTreeNodeSwitcher",components:{RenderFunction:S.RenderFunction},props:h.treeNodeSwitcherProps,emits:["click"],setup(c,{slots:s,emit:f}){const{icons:r,nodeStatus:u,treeNodeData:i}=e.toRefs(c),t=V.useTreeContext(),N=g.usePickSlots(s,"switcher-icon"),v=g.usePickSlots(s,"loading-icon");return{getSwitcherIcon:()=>{var l,o;const n=((l=r==null?void 0:r.value)==null?void 0:l.switcherIcon)??N.value;return n?n(u.value):(o=t.switcherIcon)==null?void 0:o.call(t,i.value,u.value)},getLoadingIcon:()=>{var l,o;const n=((l=r==null?void 0:r.value)==null?void 0:l.loadingIcon)??v.value;return n?n(u.value):(o=t.loadingIcon)==null?void 0:o.call(t,i.value,u.value)},onClick(n){f("click",n)}}},render(){const{getSwitcherIcon:c,getLoadingIcon:s,onClick:f,nodeStatus:r={},loading:u,showLine:i}=this,t=g.useNamespace("tree"),{expanded:N,isLeaf:v}=r;if(u)return s()??e.createVNode(d.TuIcon,{class:"is-loading"},{default:()=>[e.createVNode(a.Loading,null,null)]});let n=null,l=!1;if(v)i&&(n=c()??e.createVNode(d.TuIcon,null,{default:()=>[e.createVNode(a.Document,null,null)]}));else{const I=i?N?e.createVNode(a.Remove,null,null):e.createVNode(a.CirclePlus,null,null):e.createVNode(a.CaretBottom,null,null);n=c()??e.createVNode(d.TuIcon,null,{default:()=>[e.createTextVNode(" "),I,e.createTextVNode(" ")]}),l=!i}if(!n)return null;const o=e.createVNode("div",{class:t.e("switcher-icon"),onClick:f},[n]);return l?e.createVNode(d.TuIcon,{class:t.e("icon-hover")},p(o)?o:{default:()=>[o]}):o}});exports.default=T;
