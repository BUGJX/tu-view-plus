"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});function f(t){return Set.prototype.add.bind(t)}function y(t){return Set.prototype.delete.bind(t)}function l(t){return t.disabled||t.disableCheckbox?!1:!!t.checkable}function k(t){var d;const r=[];return(d=t.children)==null||d.forEach(o=>{l(o)&&r.push(o.key,...k(o))}),r}function S(t){var a;const{node:r,checkedKeySet:d,indeterminateKeySet:o}=t;let s=r.parent;for(;s;){if(l(s)){const c=s.key,n=((a=s.children)==null?void 0:a.filter(l))||[];let e=0;const i=n.length;n.some(({key:h})=>{if(d.has(h))e+=1;else if(o.has(h))return e+=.5,!0;return!1}),e&&e!==i?o.add(c):o.delete(c),e&&e===i?d.add(c):d.delete(c)}s=s.parent}}function K(t){const{node:r,checked:d,checkedKeys:o,indeterminateKeys:s,checkStrictly:a=!1}=t,{key:c}=r,n=new Set(o),e=new Set(s);if(d?n.add(c):n.delete(c),e.delete(c),!a){const i=k(r);d?i.forEach(f(n)):i.forEach(y(n)),i.forEach(y(e)),S({node:r,checkedKeySet:n,indeterminateKeySet:e})}return[[...n],[...e]]}function C(t){const{initCheckedKeys:r,key2TreeNode:d,checkStrictly:o,onlyCheckLeaf:s}=t,a=new Set,c=new Set,n=new Set;return o?r.forEach(f(a)):r.forEach(e=>{var u;const i=d.get(e);if(!i||c.has(e)||s&&((u=i.children)!=null&&u.length))return;const h=k(i);h.forEach(f(c)),h.forEach(y(n)),a.add(e),n.delete(e),S({node:i,checkedKeySet:a,indeterminateKeySet:n})}),[[...a,...c],[...n]]}exports.getCheckedStateByCheck=K;exports.getCheckedStateByInitKeys=C;exports.isNodeCheckable=l;
