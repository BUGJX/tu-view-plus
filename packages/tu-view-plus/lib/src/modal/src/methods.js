"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue");require("../../message/index.js");const n=require("@tu-view-plus/utils"),i=require("./modal.vue.js"),b=require("../../message/src/constants.js"),a=(e,l)=>{let o=n.getOverlay("modal");const r=()=>{t.component&&(t.component.props.visible=!1),n.isFunction(e.onOk)&&e.onOk()},u=()=>{t.component&&(t.component.props.visible=!1),n.isFunction(e.onCancel)&&e.onCancel()},c=async()=>{await s.nextTick(),o&&(s.render(null,o),document.body.removeChild(o)),o=null,n.isFunction(e.onClose)&&e.onClose()},d=()=>{t.component&&(t.component.props.visible=!1)},p=f=>{t.component&&Object.entries(f).forEach(([C,v])=>{t.component.props[C]=v})},m={visible:!0,renderToBody:!1,unmountOnClose:!0,onOk:r,onCancel:u,onClose:c},t=s.createVNode(i.default,{...m,...n.omit(e,["content","title","footer","visible","unmountOnClose","onOk","onCancel","onClose"]),footer:typeof e.footer=="boolean"?e.footer:void 0},{default:n.getSlotFunction(e.content),title:n.getSlotFunction(e.title),footer:typeof e.footer!="boolean"?n.getSlotFunction(e.footer):void 0});return(l??i.default._context)&&(t.appContext=l??i.default._context),s.render(t,o),document.body.appendChild(o),{close:d,update:p}},y={open:a,confirm:(e,l)=>{const o={simple:!0,...e};return a(o,l)},...b.messageTypes.reduce((e,l)=>(e[l]=(o,r)=>{const u={simple:!0,hideCancel:!0,messageType:l,...o};return a(u,r)},e),{})};exports.default=y;
