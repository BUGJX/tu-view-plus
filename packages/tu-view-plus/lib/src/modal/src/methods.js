"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue");require("../../message/index.js");const n=require("@tu-view-plus/utils"),v=require("./modal.vue.js"),b=require("../../message/src/constants.js"),u=(e,l)=>{let o=n.getOverlay("modal");const r=()=>{t.component&&(t.component.props.visible=!1),n.isFunction(e.onOk)&&e.onOk()},i=()=>{t.component&&(t.component.props.visible=!1),n.isFunction(e.onCancel)&&e.onCancel()},a=async()=>{await s.nextTick(),o&&(s.render(null,o),document.body.removeChild(o)),o=null,n.isFunction(e.onClose)&&e.onClose()},c=()=>{t.component&&(t.component.props.visible=!1)},d=m=>{t.component&&Object.entries(m).forEach(([f,C])=>{t.component.props[f]=C})},p={visible:!0,renderToBody:!1,unmountOnClose:!0,onOk:r,onCancel:i,onClose:a},t=s.createVNode(v.default,{...p,...n.omit(e,["content","title","footer","visible","unmountOnClose","onOk","onCancel","onClose"]),footer:typeof e.footer=="boolean"?e.footer:void 0},{default:n.getSlotFunction(e.content),title:n.getSlotFunction(e.title),footer:typeof e.footer!="boolean"?n.getSlotFunction(e.footer):void 0});return l&&(t.appContext=l),s.render(t,o),document.body.appendChild(o),{close:c,update:d}},y={open:u,confirm:(e,l)=>{const o={simple:!0,...e};return u(o,l)},...b.messageTypes.reduce((e,l)=>(e[l]=(o,r)=>{const i={simple:!0,hideCancel:!0,messageType:l,...o};return u(i,r)},e),{})};exports.default=y;
